# Language Bindings

This directory contains language bindings for the zas terminal manipulation library.

## Contents

- `zas.h` - C header file (auto-generated by cbindgen)
- `zas.zig` - Zig wrapper module
- `example.zig` - Example Zig program

## Building

### Prerequisites

- Rust and Cargo (for building the library)
- Zig compiler (for Zig bindings)

### Quick Start

```bash
# Build everything (library + Zig example)
make

# Build Zig example
make zig-example

# Run the example (must run in actual terminal, not through make)
# macOS:
DYLD_LIBRARY_PATH=target/release ./bindings/zas-example

# Linux:
LD_LIBRARY_PATH=target/release ./bindings/zas-example

# Clean build artifacts
make clean
```

**Note:** Terminal applications require a TTY (terminal device). If `make run-zig` fails with "InitFailed", run the binary directly as shown above.

## Using the Bindings

### From Zig

```zig
const zas = @import("zas.zig");

pub fn main() !void {
    const screen = try zas.Screen.init();
    defer screen.deinit() catch {};

    try screen.clear();
    try screen.mvprint(5, 10, "Hello, World!");
    try screen.refresh();
    _ = try screen.getch();
}
```

### From C

```c
#include "zas.h"

int main() {
    zasScreen* screen = zas_init();
    if (!screen) return 1;

    zas_clear(screen);
    zas_mvprint(screen, 5, 10, "Hello, World!");
    zas_refresh(screen);

    zasKey key;
    zas_getch(screen, &key);

    zas_endwin(screen);
    return 0;
}
```

Compile with:
```bash
gcc -o myapp myapp.c -L../target/release -lzas
```

## API Overview

### Screen Operations

- `init()` / `zas_init()` - Initialize terminal screen
- `deinit()` / `zas_endwin()` - Restore terminal and cleanup
- `clear()` / `zas_clear()` - Clear the screen
- `refresh()` / `zas_refresh()` - Flush output to terminal

### Text Output

- `print(text)` / `zas_print()` - Print at cursor position
- `mvprint(y, x, text)` / `zas_mvprint()` - Print at specific position
- `moveCursor(y, x)` / `zas_move_cursor()` - Move cursor

### Input

- `getch()` / `zas_getch()` - Get a key press

### Styling

- `setFgColor(r, g, b)` / `zas_set_fg_color()` - Set foreground color
- `setBgColor(r, g, b)` / `zas_set_bg_color()` - Set background color
- `attrOn(attr)` / `zas_attron()` - Enable text attribute
- `attrOff(attr)` / `zas_attroff()` - Disable text attribute

### Attributes

- `bold` - Bold text
- `dim` - Dimmed text
- `italic` - Italic text
- `underline` - Underlined text
- `blink` - Blinking text
- `reverse` - Reversed colors
- `strikethrough` - Strikethrough text

## Notes

- The library must be built before using bindings: `cargo build --release`
- The C header is automatically generated during the build process
- Set `LD_LIBRARY_PATH` (Linux) or `DYLD_LIBRARY_PATH` (macOS) when running executables

## License

Same as zas library (see parent directory).
